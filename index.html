<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Catchphrase</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; overflow: hidden; touch-action: manipulation; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); color: white; }
        .flash-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; pointer-events: none; z-index: 1000; opacity: 0; transition: opacity 0.1s; }
        .flash-overlay.active { box-shadow: inset 0 0 80px 40px #ff4444; opacity: 1; }
        .flash-overlay.buzzer { background: rgba(255, 0, 0, 0.6); opacity: 1; }
        .container { height: 100vh; height: 100dvh; display: flex; flex-direction: column; padding: 10px; max-width: 500px; margin: 0 auto; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        h1 { font-size: 1.6rem; background: linear-gradient(90deg, #00d9ff, #00ff88); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; flex: 1; text-align: center; }
        .help-btn { background: rgba(255, 255, 255, 0.1); border: 2px solid #00d9ff; color: #00d9ff; width: 32px; height: 32px; border-radius: 50%; font-size: 1.2rem; cursor: pointer; flex-shrink: 0; }
        .category-selector { display: flex; justify-content: center; gap: 6px; margin-bottom: 10px; }
        .category-btn { padding: 6px 12px; border: 2px solid #444; background: rgba(255, 255, 255, 0.05); color: #aaa; border-radius: 20px; cursor: pointer; font-size: 0.8rem; }
        .category-btn.active { background: linear-gradient(135deg, #00d9ff 0%, #00ff88 100%); color: #1a1a2e; border-color: transparent; font-weight: bold; }
        .scoreboard { display: flex; justify-content: space-between; gap: 10px; margin-bottom: 10px; }
        .team-score { flex: 1; padding: 10px; border-radius: 12px; text-align: center; transition: all 0.3s; }
        .team-score.team1 { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .team-score.team2 { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .team-score.active { transform: scale(1.05); box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3); }
        .team-name { font-size: 0.9rem; font-weight: bold; }
        .score { font-size: 2rem; font-weight: bold; }
        .game-area { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 0; }
        .current-turn { font-size: 1rem; text-align: center; margin-bottom: 10px; padding: 6px 14px; border-radius: 8px; background: rgba(255, 255, 255, 0.1); }
        .current-turn.team1 { border-left: 3px solid #764ba2; }
        .current-turn.team2 { border-left: 3px solid #f5576c; }
        .phrase-display { flex: 1; display: flex; align-items: center; justify-content: center; width: 100%; min-height: 0; padding: 10px; }
        .phrase { font-size: 1.8rem; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; text-align: center; word-wrap: break-word; max-width: 100%; }
        .status { text-align: center; font-size: 0.9rem; margin-bottom: 10px; color: #aaa; min-height: 20px; padding: 0 10px; }
        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 10px; }
        button { padding: 14px 10px; font-size: 0.9rem; font-weight: bold; border: none; border-radius: 10px; cursor: pointer; text-transform: uppercase; }
        .btn-start { background: linear-gradient(135deg, #00d9ff 0%, #00ff88 100%); color: #1a1a2e; }
        .btn-next { background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%); color: #1a1a2e; }
        .btn-got-it { background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%); color: #1a1a2e; }
        .btn-reset { background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%); color: white; }
        button:disabled { opacity: 0.4; cursor: not-allowed; }
        .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.85); display: none; align-items: center; justify-content: center; z-index: 3000; padding: 20px; }
        .modal-overlay.show { display: flex; }
        .modal { background: linear-gradient(135deg, #2d2d44 0%, #1a1a2e 100%); border: 2px solid #00d9ff; border-radius: 15px; padding: 20px; max-width: 350px; width: 100%; position: relative; max-height: 80vh; overflow-y: auto; }
        .modal-close { position: absolute; top: 10px; right: 10px; background: none; border: none; color: #aaa; font-size: 1.5rem; cursor: pointer; padding: 5px 10px; }
        .modal h2 { color: #00d9ff; margin-bottom: 15px; font-size: 1.4rem; }
        .modal ul { list-style: none; padding-left: 0; }
        .modal li { margin-bottom: 10px; padding-left: 20px; position: relative; color: #ccc; font-size: 0.9rem; line-height: 1.4; }
        .modal li::before { content: "‚Ä¢"; position: absolute; left: 0; color: #00ff88; }
        .modal .highlight { color: #ffd700; font-weight: bold; }
        .winner-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.9); display: none; align-items: center; justify-content: center; z-index: 2000; flex-direction: column; padding: 20px; }
        .winner-overlay.show { display: flex; }
        .winner-text { font-size: 2rem; font-weight: bold; text-align: center; margin-bottom: 20px; animation: pulse 1s ease-in-out infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
    </style>
</head>
<body>
    <div class="flash-overlay" id="flashOverlay"></div>
    <div class="modal-overlay" id="rulesModal">
        <div class="modal">
            <button class="modal-close" onclick="closeRules()">‚úï</button>
            <h2>üéØ How to Play</h2>
            <ul>
                <li>Divide into <span class="highlight">two teams</span> and sit in alternating order</li>
                <li>One player gives clues to get their team to guess the word or phrase</li>
                <li>You <span class="highlight">cannot</span> say the word, use rhymes, or say part of the word</li>
                <li>When your team guesses correctly, press <span class="highlight">"Got It!"</span> to pass to the other team</li>
                <li>The screen will flash and beep faster as time runs out!</li>
                <li>When the buzzer sounds, the team <span class="highlight">NOT</span> holding the device scores 1 point</li>
                <li>First team to reach <span class="highlight">7 points</span> wins!</li>
            </ul>
        </div>
    </div>
    <div class="winner-overlay" id="winnerOverlay">
        <div class="winner-text" id="winnerText"></div>
        <button class="btn-start" onclick="resetGame()" style="padding: 15px 40px; font-size: 1.1rem;">Play Again</button>
    </div>
    <div class="container">
        <div class="header">
            <div style="width: 32px;"></div>
            <h1>üéÆ Catchphrase</h1>
            <button class="help-btn" onclick="showRules()">?</button>
        </div>
        <div class="category-selector">
            <button class="category-btn active" data-category="world" onclick="selectCategory('world')">üåç World</button>
            <button class="category-btn" data-category="sports" onclick="selectCategory('sports')">‚öΩ Sports</button>
            <button class="category-btn" data-category="science" onclick="selectCategory('science')">üî¨ Science</button>
        </div>
        <div class="scoreboard">
            <div class="team-score team1" id="team1Box">
                <div class="team-name">Team 1</div>
                <div class="score" id="team1Score">0</div>
            </div>
            <div class="team-score team2" id="team2Box">
                <div class="team-name">Team 2</div>
                <div class="score" id="team2Score">0</div>
            </div>
        </div>
        <div class="game-area">
            <div class="current-turn team1" id="currentTurn">Team 1's Turn</div>
            <div class="phrase-display">
                <div class="phrase" id="phrase">‚Äî</div>
            </div>
            <div class="status" id="status">Select a category and press Start!</div>
        </div>
        <div class="controls">
            <button class="btn-start" id="startBtn" onclick="startRound()">Start Round</button>
            <button class="btn-got-it" id="gotItBtn" onclick="gotIt()" disabled>Got It!</button>
            <button class="btn-next" id="nextBtn" onclick="skipWord()" disabled>Skip</button>
            <button class="btn-reset" onclick="resetGame()">Reset</button>
        </div>
    </div>
    <script>
        let audioContext = null;
        function initAudio() { if (!audioContext) { audioContext = new (window.AudioContext || window.webkitAudioContext)(); } }
        function playBeep(frequency, duration) {
            if (!audioContext) return;
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            oscillator.frequency.value = frequency;
            oscillator.type = 'sine';
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + duration);
        }
        function playBuzzer() {
            if (!audioContext) return;
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            oscillator.frequency.value = 150;
            oscillator.type = 'sawtooth';
            gainNode.gain.setValueAtTime(0.5, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.8);
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.8);
        }
        const categories = {
            world: ["Eiffel Tower", "Great Wall of China", "Amazon Rainforest", "Mount Everest", "Sahara Desert", "Grand Canyon", "Niagara Falls", "Big Ben", "Statue of Liberty", "Taj Mahal", "Machu Picchu", "Colosseum", "Sydney Opera House", "Golden Gate Bridge", "Stonehenge", "Pyramids of Giza", "Great Barrier Reef", "Victoria Falls", "Northern Lights", "Dead Sea", "Mount Fuji", "Venice Canals", "Swiss Alps", "Mona Lisa", "Hollywood Sign", "Times Square", "Las Vegas Strip", "Central Park", "Buckingham Palace", "Leaning Tower of Pisa", "Christ the Redeemer", "Easter Island", "Angel Falls", "Galapagos Islands", "Antarctica", "African Safari", "Tokyo Skyline", "Paris Fashion", "Brazilian Carnival", "Mediterranean Sea", "Pacific Ocean", "Atlantic Ocean", "Indian Ocean", "North Pole", "South Pole", "Equator Line", "International Date Line", "Time Zone", "World Map", "Globe Trotting", "Jet Lag", "Passport Control", "Border Crossing", "Currency Exchange", "Foreign Language", "World Heritage Site", "National Park", "Capital City", "Island Nation", "Mountain Range", "River Delta", "Tropical Beach", "Volcanic Eruption", "Earthquake Zone", "Hurricane Season", "Monsoon Rains", "Desert Oasis", "Coral Reef", "Rainforest Canopy", "Arctic Tundra", "Bamboo Forest", "Rice Paddy", "Tea Plantation", "Coffee Beans", "Silk Road", "Spice Trade", "World Cuisine", "Street Food", "Local Market", "Ancient Ruins", "Medieval Castle", "Modern Skyline", "Underground City", "Floating Market", "Night Market", "Temple Complex", "Sacred Mountain", "Holy City", "Pilgrimage Route", "Cultural Festival", "Traditional Dance", "Folk Music", "Native Tribe", "Indigenous People", "Colonial History", "Independence Day", "National Anthem", "World Cup", "Olympic Games", "World Record", "Seven Wonders", "Lost City", "Hidden Paradise", "Remote Island", "Uncharted Territory", "Expedition Team", "World Explorer", "Bermuda Triangle", "Great Sphinx", "Panama Canal", "Suez Canal", "Mount Kilimanjaro", "Amazon River", "Nile River", "Mississippi River", "Danube River", "Rhine River", "Ganges River", "Yangtze River", "Himalayan Mountains", "Rocky Mountains", "Andes Mountains", "Atlas Mountains", "Appalachian Trail", "Great Plains", "Australian Outback", "Gobi Desert", "Atacama Desert", "Mojave Desert", "Arabian Desert", "Caribbean Islands", "Hawaiian Islands", "Greek Islands", "New Zealand", "Madagascar", "Iceland", "Greenland", "Bora Bora", "Maldives", "Seychelles", "Fiji Islands", "Hong Kong Harbor", "Singapore Skyline", "Dubai Skyscrapers", "Shanghai Tower", "Kremlin Palace", "Vatican City", "Forbidden City", "Angkor Wat", "Petra Jordan", "Chichen Itza", "Acropolis Athens", "Roman Forum", "Pompeii Ruins", "Bay of Bengal", "Gulf of Mexico", "Persian Gulf", "Red Sea", "Black Sea", "Caspian Sea", "Baltic Sea", "English Channel", "Mount Vesuvius", "Ring of Fire", "Mariana Trench", "Great Rift Valley", "Yosemite Valley", "Yellowstone Geyser", "Norwegian Fjords", "Scottish Highlands", "French Riviera", "Amalfi Coast", "Lake Como", "Lake Geneva", "Crater Lake", "Great Lakes", "Lake Victoria", "Serengeti Plains", "Masai Mara", "Okavango Delta", "Congo Rainforest", "Borneo Jungle", "Patagonia Region", "Iguazu Falls", "Edinburgh Castle", "Windsor Castle", "Neuschwanstein Castle", "Versailles Palace", "Red Square Moscow", "Tiananmen Square", "Trafalgar Square", "Brandenburg Gate", "Arc de Triomphe", "Fifth Avenue", "Wall Street", "Shibuya Crossing", "Burj Khalifa", "Route Sixty Six", "Pacific Coast Highway", "Trans Siberian Railway", "Orient Express", "Camino de Santiago"],
            sports: ["Super Bowl", "World Series", "Stanley Cup", "NBA Finals", "March Madness", "Kentucky Derby", "Indianapolis 500", "Daytona 500", "Tour de France", "Boston Marathon", "Wimbledon Finals", "US Open Tennis", "French Open", "Australian Open", "Masters Tournament", "British Open Golf", "PGA Championship", "Ryder Cup", "World Cup Soccer", "Champions League", "Premier League", "La Liga", "Serie A", "Bundesliga", "MLS Cup", "Copa America", "Euro Championship", "Winter Olympics", "Summer Olympics", "Paralympic Games", "X Games", "Extreme Sports", "Home Run", "Grand Slam", "Triple Crown", "Perfect Game", "No Hitter", "Batting Average", "Touchdown Pass", "Field Goal", "Two Point Conversion", "Hail Mary", "Quarterback Sack", "Running Back", "Wide Receiver", "Tight End", "Slam Dunk", "Three Pointer", "Free Throw", "Alley Oop", "Fast Break", "Pick and Roll", "Buzzer Beater", "Hat Trick", "Power Play", "Penalty Kill", "Face Off", "Slap Shot", "Body Check", "Penalty Kick", "Corner Kick", "Free Kick", "Yellow Card", "Red Card", "Bicycle Kick", "Header Goal", "Penalty Shootout", "Ace Serve", "Double Fault", "Match Point", "Break Point", "Tiebreaker", "Deuce", "Hole in One", "Eagle Putt", "Birdie Putt", "Bogey", "Par Score", "Fairway Shot", "Sand Trap", "Putting Green", "Knockout Punch", "Technical Knockout", "Championship Belt", "Title Fight", "Checkmate", "Stalemate", "Chess Grandmaster", "Poker Face", "Royal Flush", "Full House", "Texas Hold Em", "All In", "Monopoly Board", "Scrabble Tiles", "Trivial Pursuit", "Dungeons and Dragons", "Video Game", "Console Gaming", "Esports Tournament", "High Score", "Level Up", "Boss Battle", "Game Over", "Power Up", "Battle Royale", "First Person Shooter", "Figure Skating", "Ice Dancing", "Hockey Rink", "Curling Stone", "Bobsled Run", "Ski Jump", "Downhill Skiing", "Slalom Course", "Snowboard Halfpipe", "Big Air", "Mountain Biking", "Road Cycling", "BMX Racing", "Triathlon Race", "Ironman Competition", "Long Jump", "High Jump", "Triple Jump", "Pole Vault", "Shot Put", "Discus Throw", "Javelin Throw", "Sprint Race", "Relay Race", "Hurdle Race", "Marathon Running", "Rock Climbing", "Surfing Competition", "Big Wave", "Scuba Diving", "Sailing Race", "Americas Cup", "Rowing Race", "Kayak Race", "Archery Target", "Bullseye Shot", "Fencing Match", "Balance Beam", "Uneven Bars", "Vault Jump", "Pommel Horse", "Trampoline Jump", "Weightlifting", "Powerlifting", "Bench Press", "Wrestling Match", "Sumo Wrestling", "Judo Match", "Taekwondo", "Mixed Martial Arts"],
            science: ["Artificial Intelligence", "Machine Learning", "Neural Network", "Deep Learning", "Computer Vision", "Robotics", "Automation", "Self Driving Car", "Electric Vehicle", "Battery Technology", "Solar Panel", "Wind Turbine", "Nuclear Power", "Renewable Energy", "Carbon Footprint", "Climate Change", "Global Warming", "Greenhouse Effect", "Ozone Layer", "Fossil Fuel", "Genetic Engineering", "Gene Therapy", "CRISPR Technology", "DNA Sequence", "Human Genome", "Stem Cell", "Cloning", "Biotechnology", "Drug Discovery", "Clinical Trial", "Vaccine Development", "Antibody", "Immune System", "Virus Mutation", "Space Exploration", "Mars Mission", "Moon Landing", "Space Station", "Satellite Orbit", "Rocket Launch", "Space Shuttle", "Black Hole", "Supernova", "Galaxy Formation", "Dark Matter", "Dark Energy", "Big Bang", "Gravitational Wave", "Hubble Space", "James Webb", "Quantum Computing", "Quantum Mechanics", "Particle Physics", "Higgs Boson", "Antimatter", "String Theory", "Theory of Relativity", "Speed of Light", "Time Dilation", "Wormhole", "Parallel Universe", "Periodic Table", "Chemical Element", "Atomic Number", "Chemical Bond", "Organic Chemistry", "Biochemistry", "Protein Folding", "Enzyme Reaction", "Chemical Reaction", "Nuclear Fusion", "Nuclear Fission", "Radioactive Decay", "Computer Processor", "Graphics Card", "Memory Chip", "Hard Drive", "Cloud Computing", "Data Center", "World Wide Web", "Search Engine", "Social Media", "Virtual Reality", "Augmented Reality", "Three D Printing", "Nanotechnology", "Microchip", "Semiconductor", "Fiber Optic", "Wireless Network", "Five G Technology", "Bluetooth", "GPS Navigation", "Cybersecurity", "Firewall", "Computer Virus", "Data Breach", "Facial Recognition", "Fingerprint Scanner", "Voice Recognition", "Touch Screen", "Smartphone", "Tablet Computer", "Smart Watch", "Smart Home", "Internet of Things", "Voice Assistant", "Electric Motor", "Photosynthesis", "Mitochondria", "Cell Division", "Chromosome", "Genetic Code", "Evolution Theory", "Natural Selection", "Ecosystem", "Biodiversity", "Food Chain", "Endangered Species", "Marine Biology", "Coral Bleaching", "Plate Tectonics", "Continental Drift", "Earthquake Fault", "Volcanic Activity", "Richter Scale", "Tsunami", "Fossil Record", "Ice Age", "Carbon Dating", "Dinosaur Fossil", "Weather Pattern", "Jet Stream", "Doppler Radar", "Hurricane Category", "Tornado Warning", "Water Cycle", "Scientific Method", "Hypothesis Testing", "Peer Review", "Laboratory Experiment"]
        };
        let currentCategory = 'world';
        let team1Score = 0;
        let team2Score = 0;
        let currentTeam = 1;
        let isPlaying = false;
        let timerInterval = null;
        let usedPhrases = [];
        let currentPhrase = "";
        let timerStartTime = 0;
        let baseDuration = 0;
        let randomEndTime = 0;
        let currentPitch = 400;

        function selectCategory(category) {
            if (isPlaying) return;
            currentCategory = category;
            usedPhrases = [];
            document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-category="${category}"]`).classList.add('active');
            document.getElementById('phrase').textContent = '‚Äî';
            document.getElementById('status').textContent = 'Press Start to begin!';
        }
        function showRules() { document.getElementById('rulesModal').classList.add('show'); }
        function closeRules() { document.getElementById('rulesModal').classList.remove('show'); }
        function getRandomPhrase() {
            const phrases = categories[currentCategory];
            if (usedPhrases.length >= phrases.length) usedPhrases = [];
            let available = phrases.filter(p => !usedPhrases.includes(p));
            let phrase = available[Math.floor(Math.random() * available.length)];
            usedPhrases.push(phrase);
            return phrase;
        }
        function updateDisplay() {
            document.getElementById('team1Score').textContent = team1Score;
            document.getElementById('team2Score').textContent = team2Score;
            document.getElementById('team1Box').classList.toggle('active', currentTeam === 1);
            document.getElementById('team2Box').classList.toggle('active', currentTeam === 2);
            const turnDiv = document.getElementById('currentTurn');
            turnDiv.textContent = `Team ${currentTeam}'s Turn`;
            turnDiv.className = `current-turn team${currentTeam}`;
        }
        function startRound() {
            if (isPlaying) return;
            initAudio();
            isPlaying = true;
            document.getElementById('startBtn').disabled = true;
            document.getElementById('gotItBtn').disabled = false;
            document.getElementById('nextBtn').disabled = false;
            document.querySelectorAll('.category-btn').forEach(btn => { btn.style.pointerEvents = 'none'; btn.style.opacity = '0.5'; });
            currentPhrase = getRandomPhrase();
            document.getElementById('phrase').textContent = currentPhrase;
            document.getElementById('status').textContent = "Don't say the word!";
            baseDuration = 45000 + Math.random() * 45000;
            randomEndTime = baseDuration + (Math.random() * 10000 - 5000);
            timerStartTime = Date.now();
            currentPitch = 400;
            startTimer();
        }
        function startTimer() {
            const flashOverlay = document.getElementById('flashOverlay');
            let lastFlashTime = 0;
            timerInterval = setInterval(() => {
                const elapsed = Date.now() - timerStartTime;
                const progress = Math.min(elapsed / baseDuration, 1);
                if (progress > 0.4) {
                    const intensity = (progress - 0.4) / 0.6;
                    const flashInterval = 1500 - (intensity * 1350);
                    currentPitch = 400 + (intensity * 800);
                    const now = Date.now();
                    if (now - lastFlashTime >= flashInterval) {
                        flashOverlay.classList.add('active');
                        playBeep(currentPitch, 0.15);
                        setTimeout(() => flashOverlay.classList.remove('active'), 80);
                        lastFlashTime = now;
                    }
                }
                if (elapsed >= randomEndTime) endRound();
            }, 30);
        }
        function endRound() {
            clearInterval(timerInterval);
            timerInterval = null;
            const flashOverlay = document.getElementById('flashOverlay');
            flashOverlay.classList.remove('active');
            flashOverlay.classList.add('buzzer');
            playBuzzer();
            setTimeout(() => flashOverlay.classList.remove('buzzer'), 1000);
            isPlaying = false;
            document.getElementById('startBtn').disabled = false;
            document.getElementById('gotItBtn').disabled = true;
            document.getElementById('nextBtn').disabled = true;
            document.querySelectorAll('.category-btn').forEach(btn => { btn.style.pointerEvents = 'auto'; btn.style.opacity = '1'; });
            const scoringTeam = currentTeam === 1 ? 2 : 1;
            if (scoringTeam === 1) team1Score++; else team2Score++;
            document.getElementById('status').textContent = `Team ${scoringTeam} scores! Answer: ${currentPhrase}`;
            updateDisplay();
            checkWinner();
        }
        function gotIt() {
            if (!isPlaying) return;
            currentTeam = currentTeam === 1 ? 2 : 1;
            updateDisplay();
            currentPhrase = getRandomPhrase();
            document.getElementById('phrase').textContent = currentPhrase;
        }
        function skipWord() {
            if (!isPlaying) return;
            currentPhrase = getRandomPhrase();
            document.getElementById('phrase').textContent = currentPhrase;
        }
        function checkWinner() {
            if (team1Score >= 7) showWinner(1);
            else if (team2Score >= 7) showWinner(2);
        }
        function showWinner(team) {
            const overlay = document.getElementById('winnerOverlay');
            const text = document.getElementById('winnerText');
            text.textContent = `üéâ Team ${team} Wins! üéâ`;
            text.style.background = team === 1 ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' : 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)';
            text.style.webkitBackgroundClip = 'text';
            text.style.webkitTextFillColor = 'transparent';
            text.style.backgroundClip = 'text';
            overlay.classList.add('show');
        }
        function resetGame() {
            clearInterval(timerInterval);
            timerInterval = null;
            team1Score = 0; team2Score = 0; currentTeam = 1; isPlaying = false; usedPhrases = [];
            document.getElementById('winnerOverlay').classList.remove('show');
            document.getElementById('flashOverlay').classList.remove('active', 'buzzer');
            document.getElementById('phrase').textContent = '‚Äî';
            document.getElementById('status').textContent = 'Press Start to begin!';
            document.getElementById('startBtn').disabled = false;
            document.getElementById('gotItBtn').disabled = true;
            document.getElementById('nextBtn').disabled = true;
            document.querySelectorAll('.category-btn').forEach(btn => { btn.style.pointerEvents = 'auto'; btn.style.opacity = '1'; });
            updateDisplay();
        }
        document.getElementById('rulesModal').addEventListener('click', function(e) { if (e.target === this) closeRules(); });
        updateDisplay();
    </script>
</body>
</html>
